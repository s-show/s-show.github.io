<!doctype html><html lang=ja data-figures class=page>
<head>
<title>AutoHotKeyの解説と自分の設定について | 閑古鳥ブログ</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta http-equiv=x-ua-compatible content="IE=edge">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-367F1P4JXZ"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-367F1P4JXZ')</script>
<meta property="og:locale" content="ja">
<meta property="og:type" content="article">
<meta name=description content="前置き 自作キーボードキットのErgoDashを組み立てて日々使っているが、以下のページで紹介されている方法を使って、Raise/Lowerキ">
<meta name=twitter:card content="summary">
<meta name=twitter:creator content>
<meta name=twitter:title content="AutoHotKeyの解説と自分の設定について">
<meta name=twitter:image content="https://kankodori-blog.com/">
<meta property="og:url" content="https://kankodori-blog.com/posts/2019-06-18/">
<meta property="og:title" content="AutoHotKeyの解説と自分の設定について">
<meta property="og:description" content="前置き 自作キーボードキットのErgoDashを組み立てて日々使っているが、以下のページで紹介されている方法を使って、Raise/Lowerキ">
<meta property="og:image" content="https://kankodori-blog.com/">
<meta name=keywords content="clarity,hugo theme,閑古鳥ブログ,3Dプリンタ,キーボード">
<link rel=apple-touch-icon sizes=180x180 href=https://kankodori-blog.com/icons/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://kankodori-blog.com/icons/favicon-32x32.png>
<link rel=manifest href=https://kankodori-blog.com/icons/site.webmanifest>
<link rel=canonical href=https://kankodori-blog.com/posts/2019-06-18/>
<link rel=preload href=https://kankodori-blog.com/css/styles.02f94745b7e95b596608d321706e5c4fe0d32dca106f3b9c22fa0a2bfe867fe69d6048d93465d37c2ad1d453bc318dab643350bbd980d86b80f064a6c5945f5d.css integrity="sha512-AvlHRbfpW1lmCNMhcG5cT+DTLcoQbzucIvoKK/6Gf+adYEjZNGXTfCrR1FO8MY2rZDNQu9mA2GuA8GSmxZRfXQ==" as=style crossorigin=anonymous>
<link rel=preload href=https://kankodori-blog.com/ja/js/bundle.51e3797e3413af67784834a4612e6389a7a35a4e2e15ffddccc89687e70e57d81574c09267d4c8d8074e587351559f8b7e56aa5716a373480d95053b2a647dea.js as=script integrity="sha512-UeN5fjQTr2d4SDSkYS5jiaejWk4uFf/dzMiWh+cOV9gVdMCSZ9TI2AdOWHNRVZ+LflaqVxajc0gNlQU7KmR96g==" crossorigin=anonymous>
<link rel=stylesheet type=text/css href=https://kankodori-blog.com/css/styles.02f94745b7e95b596608d321706e5c4fe0d32dca106f3b9c22fa0a2bfe867fe69d6048d93465d37c2ad1d453bc318dab643350bbd980d86b80f064a6c5945f5d.css integrity="sha512-AvlHRbfpW1lmCNMhcG5cT+DTLcoQbzucIvoKK/6Gf+adYEjZNGXTfCrR1FO8MY2rZDNQu9mA2GuA8GSmxZRfXQ==" crossorigin=anonymous>
</head>
<body data-code=100 data-lines=false id=documentTop data-lang=ja>
<header class=nav_header>
<nav class=nav><a href=https://kankodori-blog.com/ class="nav_brand nav_item" title=閑古鳥ブログ>閑古鳥ブログ
<div class=nav_close>
<div><svg class="icon"><title>open-menu</title><use xlink:href="#open-menu"/></svg><svg class="icon"><title>closeme</title><use xlink:href="#closeme"/></svg>
</div>
</div>
</a>
<div class="nav_body nav_body_left">
<div class=nav_parent>
<a href=https://kankodori-blog.com/about/ class=nav_item title=自己紹介>自己紹介 </a>
</div>
<div class=nav_parent>
<a href=https://kankodori-blog.com/ class=nav_item title=blog>blog <img src=https://kankodori-blog.com/icons/caret-icon.svg alt=icon class=nav_icon></a>
<div class=nav_sub>
<span class=nav_child></span>
<a href=https://kankodori-blog.com/tags/ class="nav_child nav_item" title=Tags>Tags</a>
</div>
</div>
<div class=follow>
<div class=color_mode>
<input type=checkbox class=color_choice id=mode>
</div>
</div>
</div>
</nav>
</header>
<main>
<div class="grid-inverse wrap content">
<article class=post_content>
<h1 class=post_title>AutoHotKeyの解説と自分の設定について</h1>
<div class=post_meta>
<span><svg class="icon"><title>calendar</title><use xlink:href="#calendar"/></svg>
</span>
<span class=post_date>
2019-06-18</span><span>&nbsp;· <a href=https://kankodori-blog.com/tags/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/ title=プログラミング class="post_tag button button_translucent">プログラミング
</a><a href=https://kankodori-blog.com/tags/%E5%82%99%E5%BF%98%E9%8C%B2/ title=備忘録 class="post_tag button button_translucent">備忘録
</a>
</span>
</div>
<div class=post_body><h2 id=前置き>前置き</h2>
<p>自作キーボードキットのErgoDashを組み立てて日々使っているが、以下のページで紹介されている方法を使って、Raise/Lowerキーを「単独で押せば変換/無変換 or かな/英数、他のキーと組み合わせて押せばRaise/Lower」となるように設定して使っている。</p>
<p><a href=http://okapies.hateblo.jp/entry/2019/02/02/133953>QMK Firmware で Raise/Lower と変換/無変換を同じキーに割り当てる</a></p>
<p>MacOSは「かな/英数キー」でIMEのオン/オフが切り替えられ、Windowsも、enthumbleというアプリを使えば「変換/無変換キー」で同じことができるので、こうした設定を行なっている。</p>
<p>MacOSではこの設定で問題なくIMEを切り替えられたのだが、Windowsで同じことを実現しようとした時に思いっきりつまづいてしまった。</p>
<p>試行錯誤の末に、WindowsでもIMEをMacOSと同様に切り替えられるようになったのだが、そのときの知見を備忘録代わりにまとめておこうと思う。</p>
<h2 id=enthumbleとは>enthumbleとは？</h2>
<p>前置きでも少し触れているが、Windowsで出番がほとんどない無変換キーをFnキーの代わりとして使うことで、「無変換-HJKL」でカーソル移動、「無変換-スペース」でEnterキーを入力、「無変換-S」でCtrl-Sを入力、といった機能に加えて、変換/無変換キーをIMEのオン/オフのキーとして使えるようにするアプリである。</p>
<p><a href=https://qiita.com/mhara/items/d2d072592a4db9243c99>enthumble Readme 【説明書】 - Qiita</a></p>
<p>自作キーボードを使う前から重宝していたアプリなのだが、自作キーボード導入後はしばらくWindowsPCを操作していなかったので、自作キーボード導入後の最初のWindowsPC操作の時点で、変換/無変換キーをIMEの切り替えに使えないという問題に遭遇してしまったのである。</p>
<h2 id=最初の悪戦苦闘>最初の悪戦苦闘</h2>
<p>enthumbleを入れても変換/無変換キーをIMEのオン/オフキーとして使えなかったので、まずは、本当に変換/無変換がWindowsに送信されているのか調べることにした。</p>
<p>調査では、まず、<a href=https://forest.watch.impress.co.jp/library/software/changekey/>Change Key</a>というキーボードカスタマイズソフトのキーコード調査機能を使ったのだが、以下のスクリーンショットのとおり、ちゃんと変換/無変換キーが送信されているという結果が出てきた。</p>
<p><figure>
<picture>
<img loading=lazy decoding=async alt class="image_figure image_external image_unprocessed" src=https://kankodori-blog.com/wp-content/uploads/2019/07/764c5c650717871cf7b41f223001333a.png>
</picture>
</figure>
</p>
<p>変換/無変換キーが送信されているのは確認できたので、Raise/Lowerキーを「単独で押せば変換/無変換、他のキーと組み合わせたらRaise/Lower」という設定がきちんとできていることは確認できたのだが、それでもenthumbleが動作しない理由が分からなかった。とりあえず、enthumbleを再インストールしたりWindowsを再起動したりといった定番の作業は行ったが、一向に問題が解決しない。</p>
<p>ここで、enthumbleを使うことは諦めて、キーボードカスタマイズソフトの<a href=https://www.autohotkey.com/>AutoHotkey</a>を使うことにした。</p>
<h2 id=autohotkeyとは>AutoHotKeyとは？</h2>
<p>AutoHotKeyは、元々はキーボードカスタマイズソフトとして開発されていたが、ユーザーの要望を取り入れながら開発しているうちに、Windowsの動作制御までできるようになったソフトである。</p>
<p>本当に多機能なソフトで、</p>
<ul>
<li>アプリ毎に自分用のショートカットキーを作る</li>
<li>変換/無変換キーをIMEの制御キーする</li>
<li>アプリ操作を自動化</li>
<li>GUIフォームを備えたアプリを作成する</li>
</ul>
<p>といった具合に、とにかく色んなことができるようになるソフトである。</p>
<p><a href=https://itjo.jp/autohotkey/what-is-autohotkey/>[AHK基礎] AutoHotkeyはどんな言語か - ITジョー</a></p>
<p><a href=https://www.norick-matsumoto.com/entry/autohotkey_rpa>RPA（ロボテックプロセスオートメーション）なくても、AutoHotKeyでPC入力自動化できますが何か？ - ノリックのIT生産性向上、ライフハック、プロマネのお仕事備忘録</a></p>
<p><a href=https://qiita.com/sta/items/c695b91457ee73b3ddf9>Windows で簡単な GUI ラッパーアプリを作るなら AutoHotkey が良さそうという話 - Qiita</a></p>
<p><a href=http://funcs.org/1024>Auto Hot Keyで簡単にGUIフォームアプリを作る | 読書とプログラミングを中心とした覚書ブログ</a></p>
<p>また、書いたスクリプトを.exeファイルにコンパイルすることもできるので、自作の設定を他人に使ってもらうことも可能である。ちなみに、enthumbleもAutoHotKeyで作成されている。</p>
<p>ただし、様々なことができるとはいえ、自分でスクリプトを書かないといけないので、マウスでぽちぽちクリックすればOKと言う訳ではない。とはいえ、自分用のショートカットキーを作ったり、IMEの制御を「全角/半角」キー以外で行うと言うレベルであれば、そこまで難しいものではない。</p>
<p>というわけで、AutoHotKeyの使い方を簡単に紹介するとともに、私が行っている設定も紹介したいと思う。</p>
<h2 id=autohotkeyの使い方>AutoHotKeyの使い方</h2>
<p>詳しい使い方については、ネットを検索すれば優れた先人の解説がいくつも見つかるので、本記事では基本的な部分に絞って解説する。</p>
<p><a href=https://rion778.hatenablog.com/entry/20091208/1260241968>AutoHotkeyのチュートリアルを読んだ - もうカツ丼はいいよな</a></p>
<p><a href=https://www.norick-matsumoto.com/entry/autohotkey>Autohotkeyに関する記事で1万字超えの記事を書き、 Google からの検索流入が一か月後に増加するかどうかを確認しつつ、タイトルはやっぱり長い方が良いのかも検証する - ノリックのIT生産性向上、ライフハック、プロマネのお仕事備忘録</a></p>
<p><a href=http://ahkwiki.net/Top>AutoHotkey Wiki</a></p>
<p><a href=https://so-zou.jp/software/tool/system/auto-hot-key/>AutoHotKeyの使用方法</a></p>
<h3 id=基本的な構文>基本的な構文</h3>
<p>AutoHotKeyでMyショートカットキー（AutoHotKeyではホットキーと呼ぶ）を作成する場合、<code>*.ahk</code>という拡張子の設定ファイルに<code>ホットキーを割り当てるキー::</code>という形でコードを書く。こう書くことで、AutoHotKeyではサブルーチンのラベルとして認識され、指定のキーを押すと、ラベルの次の行以降に処理が移り、<code>Return</code>か<code>Exit</code>が実行されるまで処理が続けられる。</p>
<p>なお、<code>/* ~ */</code>という構文はコメントである。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln> 1</span>/*
<span class=ln> 2</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln> 3</span>example2: Alt-Qの2連打でアプリを閉じる
<span class=ln> 4</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln> 5</span>*/
<span class=ln> 6</span>~!q::
<span class=ln> 7</span>  Input, inputText, I L1 T0.5, !q
<span class=ln> 8</span>  IfInString, ErrorLevel, EndKey:
<span class=ln> 9</span>  {
<span class=ln>10</span>    Send, !{F4}
<span class=ln>11</span>  }
<span class=ln>12</span>Return
</code></pre></div><p>なお、割り当てる処理が1行で足りる場合、以下のコードのように<code>Return</code>を省略できる。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>/*
<span class=ln>2</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln>3</span>example1: Ctrl-Alt-Rでこのスクリプトを再読み込みする
<span class=ln>4</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln>5</span>*/
<span class=ln>6</span>^!r::Reload
</code></pre></div><h3 id=ホットキーの指定方法>ホットキーの指定方法</h3>
<p>ホットキーを指定するには、<a href=http://ahkwiki.net/KeyList>こちらに掲載されている</a>キーリストに沿って指定するが、基本的に、アルファベットキーは印字通り（大文字小文字は不問）指定すればOKである。BackSpaceやReturnなどのキーも、基本的にキーの印字通りでOKである。</p>
<p>一方、変換/無変換のような一部のキーは、<code>vkXX(仮想キーコード)</code>か<code>scYYY(スキャンコード)</code>というキーコードで指定する必要がある。キー毎の具体的なコードは、上記のリンク先を参考にするか、AutoHotKeyのキースキャン機能で確認できる。</p>
<p>なお、注意事項として、ネットでは<code>vkXXscYYY</code>という指定方法が散見されるが、この方式は、2017年12月25日にリリースされたバージョン1.1.27.00で<code>*.ahk</code>スクリプトのバリデーションが変更されたことにより、現在ではエラーとなる。そのため、現在は<code>vkXX</code>か<code>scYYY</code>と指定する。</p>
<p>CtrlやAltキーなどのモディファイヤキーと組み合わせるホットキーを指定する際は、以下の表に示したコードと組み合わせて指定する（例: <code>^j</code>）。上の設定例の<code>^!r</code>は"Ctrl-Alt-R"という組み合わせを指定している。</p>
<table>
<thead>
<tr>
<th>キー名</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>shift</td>
</tr>
<tr>
<td>^</td>
<td>control</td>
</tr>
<tr>
<td>!</td>
<td>alt</td>
</tr>
<tr>
<td>#</td>
<td>windows</td>
</tr>
</tbody>
</table>
<p>なお、上の設定例の<code>~!q::</code>の行頭にある<code>~</code>は、押したキーをそのままシステムに通すという設定である。この例で言えば、&ldquo;Alt-Q"というキーをAutoHotKeyで受け取った後システムにも渡すという設定である。</p>
<h3 id=変数と条件分岐>変数と条件分岐</h3>
<h4 id=変数>変数</h4>
<p>変数は、事前の宣言不要で<code>MyVar = 123abc</code>の形で値を代入できる。また、変数の値の展開は<code>MsgBox, MyVar is %MyVar%</code>のように<code>%</code>で囲めばOKである。</p>
<p>なお、関数の返り値を変数に代入する際は、<code>MyVar := function()</code>のように、<code>=</code>ではなく<code>:=</code>とする必要がある。</p>
<p>参考</p>
<ul>
<li><a href=http://ahkwiki.net/Scripts#.E5.A4.89.E6.95.B0>スクリプト仕様 - 変数 - AutoHotkey Wiki</a></li>
</ul>
<h4 id=条件分岐>条件分岐</h4>
<p><code>If</code>文による条件分岐が可能であり、<code>Else</code>で<code>If</code>の条件に当てはまらない場合の処理が指定できる。その場合、<code>Else</code>の後に<code>If</code>を追加して細かい条件分岐を行うことも可能である。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>If MyVar &gt; 10000
<span class=ln>2</span>    MsgBox,&#34;たくさん&#34;
<span class=ln>3</span>Else If MyVar &gt; 1000
<span class=ln>4</span>    MsgBox,&#34;多い&#34;
<span class=ln>5</span>Else
<span class=ln>6</span>    MsgBox,&#34;そこそこ&#34;
</code></pre></div><p><code>If</code>文による条件分岐は、「等しい、以上・以下、超・未満」のような判定に加えて、指定した文字列が含まれているか、変数のデータ型が特定の型に等しいか、という判定も可能である。</p>
<p>参考</p>
<ul>
<li><a href=http://ahkwiki.net/Scripts#.E6.9D.A1.E4.BB.B6.E5.88.86.E5.B2.90>スクリプト仕様 - 条件分岐 - AutoHotkey Wiki</a></li>
</ul>
<h3 id=設定ファイルの分割>設定ファイルの分割</h3>
<p>AutoHotKeyの設定は<code>*.ahk</code>ファイルに書いていくが、全ての設定を1つのファイルに書く必要はなく、複数の<code>*.ahk</code>ファイルに書くことが可能である。設定が増えた際の管理の手間を考えると、アプリ毎の設定ファイル、Windows全体で適用する設定ファイルのように、目的別で分けた方が良いと思う。</p>
<p>私の場合、IME関係(<code>IME-setting.ahk</code>)、アプリ毎の設定(<code>settings-for-each-app.ahk</code>)、その他の設定(<code>misc-setting.ahk</code>)の3つに分けて管理しており、その3つのファイルを<code>my_keybind.ahk</code>で以下のとおり読み込んでいる。なお、1行目では各設定で使う<code>IME.ahk</code>を読み込んでいる。ここで読み込むと、それぞれの設定ファイルでは改めて読み込む必要がなくなる。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>#Include %A_ScriptDir%/IME.ahk
<span class=ln>2</span>#Include %A_ScriptDir%/IME-setting.ahk
<span class=ln>3</span>#Include %A_ScriptDir%/settings-for-each-app.ahk
<span class=ln>4</span>#Include %A_ScriptDir%/misc-setting.ahk
<span class=ln>5</span>Return
</code></pre></div><p>実際のファイルを確認したい人は、私のGitHubの<a href=https://github.com/s-show/AutoHotKey>リポジトリ</a>を確認して欲しい。</p>
<p>参考</p>
<ul>
<li><a href=http://ahkwiki.net/-Include>#Include / #IncludeAgain - AutoHotkey Wiki</a></li>
</ul>
<h2 id=具体的な設定>具体的な設定</h2>
<p>AutoHotKeyの各機能を1つ1つ説明すると非常に長くなるし、そもそも「まずホットキーを指定し、そのホットキーに処理を割り当てる」というスタイルで設定していくアプリなので、これ以降は具体的な設定を逐一解説することで、AutoHotKeyの使い方を説明するという流れにする。</p>
<h3 id=imeのオンオフの切り替え>IMEのオン/オフの切り替え</h3>
<p>最初は、上記のとおり悪戦苦闘したIMEのオン/オフの切り替えから。</p>
<p>キーコードの指定でつまずいたが、以下のコードで望み通りの動作を実現することができた。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln> 1</span>/*
<span class=ln> 2</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln> 3</span>Title: 変換/無変換でIMEをオン/オフする
<span class=ln> 4</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln> 5</span>*/
<span class=ln> 6</span>SC079::IME_SET(1)
<span class=ln> 7</span>SC07B::
<span class=ln> 8</span>  if IME_GetConverting() &gt;= 1 {
<span class=ln> 9</span>    Return
<span class=ln>10</span>  }
<span class=ln>11</span>  else {
<span class=ln>12</span>    IME_SET(0)
<span class=ln>13</span>  }
<span class=ln>14</span>  Return
</code></pre></div><p>この設定で使用している<code>IME_SET()</code>関数と<code>IME_GetConverting</code>関数は、前述の「設定ファイルの分割」の1行目（<code>#Include %A_ScriptDir%/IME.ahk</code>）で読み込んだ<code>IME.ahk</code>で定義されている。IME周りの制御では必須の関数が定義されているスクリプトファイルなので、IME制御を行うなら必ずダウンロードすることになる。</p>
<p>スクリプトを解説すると、6行目で"変換"キーをホットキーに、7行目で"無変換"キーをそれぞれホットキーに指定している。</p>
<p>変換/無変換キーはキーコードを使ってホットキーに指定する必要があるので、上記の設定を行う前にキーコードを調査した。調査画面は次のとおりである。</p>
<figure class="figure bsimage">
<img src=image1.png class="figure-img img-fluid">
<figcaption class="figure-caption fw-light text-center">調査結果</figcaption>
</figure>
<p>ここで、変換キーのスキャンコード(SC)が<code>079</code>、無変換キーのスキャンコードが<code>07B</code>だと分かるので、<code>SC079</code>、<code>SC07B</code>と指定した。そのうえで、変換キーにIMEオンの機能を割り当てるため、<code>IME.ahk</code>に定義されている<code>IME_SET</code>関数を使用した。<code>IME_SET(1)</code>でIMEをオンに、<code>IME_SET(0)</code>でオフにできる。</p>
<p>次に、無変換キーにIMEオフの機能を割り当てるが、私のErgoDashでは、無変換キーがスペースキーの隣の親指担当の場所にあるため、スペースキーと間違えて無変換キーを押すことがしばしばあった。そのため、IMEオンで入力しているときは、無変換キーを押してもIMEをオフにしない設定にした。</p>
<p>そのため、<code>IME_GetConverting</code>関数でIMEの状態を確認し、返り値が<code>1</code>以上（IMEオンで入力中 or 変換中）なら、何もしない（<code>Return</code>で処理終了）設定にし、それ以外の場合（IMEオンだが入力していない）に<code>IME_SET(0)</code>関数を実行してIMEをオフにする設定にした。</p>
<p>なお、<code>IME_GetConverting</code>関数でIMEの状態が取得できるのは、インラインで入力が行われないアプリだけである。そのため、WordやNotepadのようにインラインで入力が行われるアプリでは、IMEの状態が取得できないので、入力中はIMEをオフにしないという細かい調節はできない。</p>
<p>参考</p>
<ul>
<li><a href=https://www6.atwiki.jp/eamat/pages/17.html>IME制御 - eamat @Cabinet - アットウィキ</a></li>
</ul>
<h4 id=補足>補足</h4>
<p>ちなみに、上記で調査した変換/無変換キーのスキャンコードは、市販のJISキーボードでも同じである。しかし、仮想コードはErgoDashと市販のキーボードで異なっている。</p>
<p>キーの指定は、スキャンコードか仮想コードで行うので、enthumbleは、スキャンコードではなく仮想コードで指定しているか、それとも<code>vkXXscYYY</code>という組み合わせで指定しているのではないかと思う。そのため、ErgoDashでは動作しなかったのではないかと思う。</p>
<table>
<thead>
<tr>
<th>仮想キーコード</th>
<th>変換</th>
<th>無変換</th>
</tr>
</thead>
<tbody>
<tr>
<td>ErgoDash</td>
<td>FF</td>
<td>EB</td>
</tr>
<tr>
<td>市販品</td>
<td>1C</td>
<td>1D</td>
</tr>
</tbody>
</table>
<h3 id=ime関連の他の設定>IME関連の他の設定</h3>
<p>これで最大の懸念であったIMEの切り替えが実現できたが、変換キーにIMEオンの機能を割り当てたので、本来の変換キーが無くなっている。誤入力した箇所にカーソルを置いて変換キーを押すと再変換できる機能は便利なので、<code>Ctrl-BackSpace</code>に変換キーの機能を割り当てることにする。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>BS::Send, {vk1C}
</code></pre></div><p><code>BS</code>はBackSpaceの指定（<code>Backspace</code>でもOK）で、<code>Send</code>は、引数に指定したキーをシステムに送信するコマンドである。<code>vk1C</code>は変換キーの仮想キーコードなので、&ldquo;Ctrl-BackSpace"を押すと<code>変換</code>キーが送信されるという動作になる。</p>
<p>参考</p>
<ul>
<li><a href=http://ahkwiki.net/Send>Send / SendRaw / SendEvent / SendInput / SendPlay - AutoHotkey Wiki</a></li>
</ul>
<h3 id=アプリ毎の設定>アプリ毎の設定</h3>
<p>AutoHotKeyでは、アプリ毎に設定を行うことも可能である。</p>
<p>次の例は、Excelで行（列）選択のショートカットキーのShift(Ctrl)-SpaceをIMEオンでも動作させるというものである（このショートカットキーはIMEオンだと動かない）。キーボードでExcelを操作するときに必須のショートカットキーなので、IMEオンでも動作するようにする。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln> 1</span>#ifWinActive ahk_exe EXCEL.EXE
<span class=ln> 2</span>  $^Space::
<span class=ln> 3</span>    if (IME_GET())
<span class=ln> 4</span>    {
<span class=ln> 5</span>      IME_SET(0)
<span class=ln> 6</span>      Sleep 30
<span class=ln> 7</span>      Send,^{Space}
<span class=ln> 8</span>      Sleep 30
<span class=ln> 9</span>      IME_SET(1)
<span class=ln>10</span>    }
<span class=ln>11</span>    else
<span class=ln>12</span>    {
<span class=ln>13</span>      Send,^{Space}
<span class=ln>14</span>    }
<span class=ln>15</span>    Return
<span class=ln>16</span>
<span class=ln>17</span>  $+Space::
<span class=ln>18</span>    if (IME_GET())
<span class=ln>19</span>    {
<span class=ln>20</span>      IME_SET(0)
<span class=ln>21</span>      Sleep 30
<span class=ln>22</span>      Send,+{Space}
<span class=ln>23</span>      Sleep 30
<span class=ln>24</span>      IME_SET(1)
<span class=ln>25</span>    }
<span class=ln>26</span>    else
<span class=ln>27</span>    {
<span class=ln>28</span>      Send,+{Space}
<span class=ln>29</span>    }
<span class=ln>30</span>    Return
<span class=ln>31</span>#ifWinActive
</code></pre></div><p><code>IME_GET</code>関数や<code>IME_SET</code>関数は、上記のIME関連の設定で説明したとおり<code>IME.ahk</code>で定義されているものである。</p>
<p>1行目の<code>#ifWinActive</code>は、特定のウィンドウがアクティブの時だけ実行するというコマンドである。ウィンドウの指定はウィンドウタイトルやウィンドウクラスで行うが、ウィンドウタイトルで行うのが簡単だと思う。</p>
<p>ウィンドウタイトルの確認は、AutoHotKeyに備わっている「Window Spy」という機能を使うのがベストである。Window Spyは、右下のタスクトレイにあるAutoHotKeyのアイコンを右クリックしたメニューにあるので、そこから起動する。起動した後の操作方法は以下のスクリーンショットのとおり。</p>
<p>2行目の<code>$^Space::</code>は、&ldquo;Ctrl-Space"というホットキーを指定するものであるが、行頭に<code>$</code>をつけているのは、&ldquo;Ctrl-Space"をAutoHotKeyで強制的にフックするためである。システムが使うショートカットキーを上書きする場合に必要となる。</p>
<p>3行目の<code>if (IME_GET())</code>は、<code>IME_GET()</code>の返り値が<code>1</code>、つまりIMEがオンになっているという条件式である。AutoHotKeyは、数値が<code>0</code>なら<code>false</code>、それ以外の数値は<code>true</code>と処理するので、こういうコードでOKとなる。</p>
<p>5〜9行目はIMEがオンの場合の処理であるが、まず、5行目の<code>IME_SET(0)</code>でIMEをオフにし、続いて6行目の<code>Sleep 30</code>で30ミリ秒処理を中断する。この中断処理を除くとIMEオンの状態で"Ctrl-Space"を入力したのと同じ動作になるので、中断処理を行っている。なお、30ミリ秒より短いと上手くいかない。</p>
<p>それから7行目の<code>Send,^{Space}</code>で"Ctrl-Space"を送信し、8行目の<code>Sleep 30</code>で再び処理を中断している（この中断処理を省略しても上手く動作しない）。</p>
<p>そして、9行目の<code>IME_SET(1)</code>でIMEをオンに戻している。</p>
<p>11行目の<code>else</code>は、IMEがオフの場合の分岐で、この場合は、単純に13行目の<code>Send,^{Space}</code>で"Ctrl-Space"を送信している。</p>
<p>17行目の<code>$+Space::</code>は、&ldquo;Shift-Space"というホットキーを指定するものである。以降の設定はこれまでと同じなので、省略する。</p>
<p>なお、Excelについては、次のような設定も行なっている。説明の都合上2つに分けているが、<a href=https://github.com/s-show/AutoHotKey/blob/b16ebad926283611146d225197081905085ccd5c/settings-for-each-app.ahk#L93>実際の設定ファイル</a>では、<code>#ifWinActive</code>を除いた部分を上記のコードの続きに書いている。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>#ifWinActive ahk_exe EXCEL.EXE
<span class=ln>2</span>  $F1::Return
<span class=ln>3</span>    $+F1::SendInput, {F1}
<span class=ln>4</span>#ifWinActive
</code></pre></div><p>2行目の<code>$F1::Return</code>は、&ldquo;F1"キーを無効化する設定である。以前使っていたキーボードで、F1キーがEscキーの隣にあるためにEscとF1をの押し間違いが頻発していたので、思い切ってF1を無効化したのである。特定のキーを無効化する場合、<code>無効化したいキー::Return</code>とすることで、そのキーを無効化できる。</p>
<p>なお、F1キーを無効化したが、ヘルプを見たい時があるかもしれないので、<code>$+F1::SendInput, {F1}</code>で"Shift-F1"に元々のF1を割り当てている。</p>
<p>参考</p>
<ul>
<li><a href=http://ahkwiki.net/IfWinActive>IfWinActive / IfWinNotActive - AutoHotkey Wiki</a></li>
</ul>
<h3 id=キー２連打への割り当て>キー２連打への割り当て</h3>
<p>キー２連打への割り当て方法は２通りあるので、それぞれ紹介する。</p>
<h4 id=方法１モディファイヤキーが無い場合>方法１（モディファイヤキーが無い場合）</h4>
<p>CtrlやAltなどのモディファイヤキーと組み合わせないキーの２連打の場合、AutoHotKeyの組み込み変数を使うことで簡単に２連打の設定ができる。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln> 1</span>/*
<span class=ln> 2</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln> 3</span>Title: テンキーのピリオド2連打でカンマ入力
<span class=ln> 4</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln> 5</span>*/
<span class=ln> 6</span>~NumpadDot::
<span class=ln> 7</span>  If (A_PriorHotKey == A_ThisHotKey and A_TimeSincePriorHotkey &lt; 200)
<span class=ln> 8</span>  {
<span class=ln> 9</span>    SendInput, {BackSpace 2}
<span class=ln>10</span>    Send,{U+002c}
<span class=ln>11</span>  }
<span class=ln>12</span>Return
</code></pre></div><p>上記のコードを解説すると、まず、<code>~NumpadDot::</code>でテンキーの&rdquo;.&ldquo;をホットキーに指定している。行頭に<code>~</code>を追加しているので、&rdquo;.&ldquo;の入力はシステムにも渡されて&rdquo;.&ldquo;が入力される。</p>
<p>そして、7行目の<code>If (A_PriorHotKey == A_ThisHotKey and A_TimeSincePriorHotkey &lt; 200)</code>は、組み込み変数を使って、「前回入力されたホットキーと今回のホットキーが同じ」かつ「前回のホットキー入力から今回のホットキー入力までの時間が200ミリ秒未満」という条件文を組み立てている。</p>
<p><code>A_PriorHotKey</code>変数には前回押されたホットキー、<code>A_ThisHotKey</code>変数には今回押されたホットキーが格納されているので、2つの変数が等しければ同じホットキーを2回連続で入力したと判断できる。そして、<code>A_TimeSincePriorHotkey</code>変数には、前回のホットキー入力から今回のホットキー入力までの時間がミリ秒単位で格納されているので、この変数の値が200未満なら２連打したと判断している。</p>
<p>つまり、最初の&rdquo;.&ldquo;入力では、7行目の<code>If</code>文の条件が必ず満たされず最後の<code>Return</code>コマンドに直行し、2回目の&rdquo;.&ldquo;入力で7行目の<code>If</code>分の条件が満たされて、次の<code>Send~</code>の処理に移るという訳である。</p>
<p>そして、この段階までに2回入力されている&rdquo;.&ldquo;を削除するため、<code>SendInput, {BackSpace 2}</code>コマンドでBackSpaceを2回入力している。それから<code>Send,{U+002c}</code>コマンドで&rdquo;,&ldquo;を入力している。なお、<code>{U+002c}</code>は、&rdquo;,&ldquo;のUnicodeの文字コードである。わざわざUnicodeの文字コードで指定している理由は、<code>Send,{,}</code>だとIMEがオンの場合に全角の&rdquo;、&ldquo;が入力されてしまうためである。</p>
<p>参考</p>
<ul>
<li><a href=http://ahkwiki.net/Variables#.E3.83.9B.E3.83.83.E3.83.88.E3.82.AD.E3.83.BC.E3.83.BBGUI.E9.96.A2.E9.80.A3>組み込み変数 - AutoHotkey Wiki</a></li>
<li><a href=http://ahkwiki.net/IfExpression>If (式)</a></li>
<li><a href=https://tools.m-bsys.com/ex/unicode_table.php>Unicode文字一覧表 - instant tools</a></li>
</ul>
<h4 id=方法２モディファイヤキーがある場合>方法２（モディファイヤキーがある場合）</h4>
<p>CtrlやAltなどのモディファイヤキーと組み合わせたキーの２連打の場合、上記より面倒になる。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln> 1</span>/*
<span class=ln> 2</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln> 3</span>Title: Alt-Qの2連打でアプリを閉じる
<span class=ln> 4</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln> 5</span>*/
<span class=ln> 6</span>~!q::
<span class=ln> 7</span>  Input, inputText, I L1 T0.5, !q
<span class=ln> 8</span>  IfInString, ErrorLevel, EndKey:
<span class=ln> 9</span>  {
<span class=ln>10</span>    Send, !{F4}
<span class=ln>11</span>  }
<span class=ln>12</span>Return
</code></pre></div><p>最初に掲載した設定例の再掲であるが、解説すると、まず<code>~!q::</code>で"Alt-Q"をホットキーに指定している。</p>
<p>そして、<code>Input</code>コマンドで最初の"Alt-Q"に続くキー入力を横取りして、<code>inputText</code>変数に格納している。</p>
<p><code>Input</code>コマンドの<code>I L1 T0.5</code>という引数は、「AutoHotKeyが生成したキー入力は無視、入力を受け付けるキーの長さは1文字、キー入力を待つ時間は0.5秒以内」という条件を指定するもので、<code>!q</code>という引数は、「&ldquo;Alt-Q"が入力されたらコマンドを終了して次の行に進む」という条件を指定するものである。</p>
<p>その次の<code>IfInString, ErrorLevel, EndKey:</code>は、「<code>ErrorLevel</code>変数に<code>EndKey:</code>という文字列が含まれているか」という条件文である。</p>
<p><code>Input</code>コマンドの待ち時間（0.5秒）以内に"Alt-Q"が押されたら、<code>ErrorLevel</code>変数に<code>EndKey:!{q}</code>という値が格納され、0.5秒以内に"Alt-Q"が押されない場合は<code>Timeout</code>という値が格納されるので、<code>EndKey:</code>が含まれていれば「Alt-Qが２連打された」と判断できる。</p>
<p>そのうえで、<code>Send,!{F4}</code>で"Alt-F4"キーを送信してアプリを終了させている。</p>
<p>参考</p>
<ul>
<li><a href=http://ahkwiki.net/Input>Input - AutoHotkey Wiki</a></li>
<li><a href=http://ahkwiki.net/IfInString>IfInString - AutoHotkey Wiki</a></li>
</ul>
<h3 id=クリップボードを活用>クリップボードを活用</h3>
<p>クリップボードを活用することで、選択した文字列を&rdquo;(&ldquo;や&rdquo;[&ldquo;や&rdquo;#&ldquo;で囲むということも可能になる。なお、このコードだけ Gist から引っ張っている理由は、コードの「<code>Send,{{}</code>」の <code>{{}</code> が Hugo のビルド時に文法エラー扱いされてビルドが中断されるのを避けるため。</p>
<script type=application/javascript src=https://gist.github.com/s-show/3077002eee1c266bc3cf7d835f5682bd.js></script>
<p>8行目の<code>backup = ClipboardAll</code>は、その時点でクリップボードに格納されているデータを<code>backup</code>変数に退避させる処理である。<code>ClipboardAll</code>変数は組み込み変数で、クリップボードのデータを読み取る際に使用する。</p>
<p>9行目の<code>Clipboard =</code>は、クリップボードを空にする処理である。<code>Clipboard</code>変数も組み込み変数で、クリップボードの中身を書き換える際に使用する。</p>
<p>10行目の<code>Send, ^c</code>で、&ldquo;Ctrl-C"をシステムに送信して選択中の文字列をコピーするが、コピー失敗に備えて、11行目に<code>ClipWait, 1</code>という処理を挟んでいる。<code>ClipWait</code>コマンドは、引数で指定した秒数の間待機し、時間内にコピーが成功すればその時点で<code>ErrorLevel</code>変数に<code>0</code>を格納する。そのため、<code>ErrorLevel</code>変数の値でコピーが成功したか否かが確認できるようになる。</p>
<p>12行目は<code>IME_GET()</code>関数で現在のIMEの状態を変数に格納している。この処理は<code>Send</code>コマンドで囲み文字を入力する方法なので、囲み文字を確実に半角入力するため、一度IMEをオフにする必要がある。そのため、処理実行前のIMEの状態を取得している。なお、関数の戻り値を変数に格納する際は<code>:=</code>で代入する必要がある。</p>
<p>15行目の<code>Input, inputText, I L1 T1,{Esc}, (,[,\`{,',",`,-,_,=,`%,`#,`*, ,|</code>は、前述の<code>Input</code>コマンドを使って、&ldquo;Ctrl-,&ldquo;の次に入力された文字が<code>( [ { ` - _ = % # | 半角スペース</code>だった場合に、その文字を<code>inputText</code>変数に格納している。なお、<code>{ ` # % *</code>はAutoHotKeyで特別な意味のある文字であることから、これらの文字を指定する際は<code>`</code>でエスケープ処理する必要があり、また、半角スペースは条件式の途中（この例では<code>|</code>の前）に書かないと認識されないという2点に注意が必要である。</p>
<p>16行目の<code>If ErrorLevel = Match</code>は、<code>Input</code>コマンドで<code>(,[,\`{,',",`,-,_,=,`%,`#,`*, ,|</code>が入力されていれば<code>ErrorLevel</code>変数に<code>Match</code>が格納されているので、それを分岐条件にしている。</p>
<p>あとは、18行目の<code>IME_SET(0)</code>でIMEをオフにして、入力された文字に応じた分岐を18行目以降の<code>If inputText =</code>で行い、</p>
<ol>
<li>入力された文字を<code>Send</code>コマンドで送信</li>
<li><code>Send,^v</code>コマンドでクリップボードの文字を貼り付け</li>
<li>再び入力された文字を<code>Send</code>コマンドで送信</li>
</ol>
<p>という処理を行うことで、選択した文字列を指定した文字で囲むという動作を実現している。</p>
<p>工夫が必要な点は、まず、<code>(,[,\`{</code>は、対になる<code>),],\`}</code>とセットで囲む必要があることから、この3つのカッコは個別に分岐条件を設定している。そのほかの囲み文字については、同じ文字を2回入力すればOKである。</p>
<p>また、半角スペースは<code>If inputText = " "</code>のような条件判定がどうやってもできなかったので、指定した変数のデータ型で判断する<code>if inputText is type</code>を使って、<code>inputText</code>が半角スペース（タブもOK）か否かによる条件判定を行なった。</p>
<p>そのほか、なぜか<code>#</code>は個別に条件判定を行う必要があったので、やむなく個別に判定している。</p>
<p>それ以外の囲み文字については、まとめて最後の<code>Else</code>節で処理している。</p>
<p>最後に、IMEの状態を処理前に戻して動作完了である。</p>
<p>参考</p>
<ul>
<li><a href=http://ahkwiki.net/Ifis>If var is [not] type - AutoHotkey Wiki</a></li>
</ul>
<h3 id=設定ファイルの再読み込みを簡単に>設定ファイルの再読み込みを簡単に</h3>
<p>設定ファイルを編集した場合、右下のタスクトレイにあるAutoHotKeyのアイコンを右クリックして「Reload This Script」をクリックする必要があるが、非常に面倒な作業なので、設定ファイル再読み込みのショートカットキーを作成する。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>/*
<span class=ln>2</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln>3</span>Title: Ctrl-Alt-Rでこのスクリプトを再読み込みする
<span class=ln>4</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class=ln>5</span>*/
<span class=ln>6</span>^!r::Reload
</code></pre></div><p>最初の方で紹介した設定例の再掲であるが、<code>^!r</code>で"Ctrl-Alt-R"をホットキーとして指定し、現在実行中の設定ファイルの再読み込みを行う<code>Reload</code>コマンドを割り当てている。</p>
<p>参考</p>
<ul>
<li><a href=http://ahkwiki.net/Reload>Reload - AutoHotkey Wiki</a></li>
</ul>
</div>
<div class=post_comments>
<script src=https://utteranc.es/client.js repo=s-show/s-show.github.io issue-term=title theme=github-dark label=comment crossorigin=anonymous async></script>
</div>
</article>
<aside class=sidebar>
<section class=sidebar_inner>
<br>
<div class=search>
<input type=search class="search_field form_field" placeholder=検索... id=find autocomplete=off data-scope=posts>
<label for=find class=search_label><svg class="icon"><title>search</title><use xlink:href="#search"/></svg>
</label>
<div class="search_results results"></div>
</div>
<div class=author_header>
<img src=https://kankodori-blog.com/img/profileIcon.png alt="s-show photo">
<h2>s-show</h2>
</div>
<div class=author_bio>
プログラミングや3Dプリンタやキーボードなどが好きな平凡な公務員
</div>
<a href=https://kankodori-blog.com/about/ class="button mt-1" role=button title=続きを読む>続きを読む</a>
<h2 class=mt-4>最近の投稿</h2>
<ul class=flex-column>
<li>
<a href=https://kankodori-blog.com/posts/2023-10-08/ class=nav-link title="Klipper の Skew correction でプリンタの歪みによる問題を解消する">Klipper の Skew correction でプリンタの歪みによる問題を解消する</a>
</li>
<li>
<a href=https://kankodori-blog.com/posts/2023-10-07/ class=nav-link title="leaflet 覚書">leaflet 覚書</a>
</li>
<li>
<a href=https://kankodori-blog.com/posts/2023-05-28/ class=nav-link title="Whisper を Windows ローカルで使うための作業">Whisper を Windows ローカルで使うための作業</a>
</li>
<li>
<a href=https://kankodori-blog.com/posts/2023-04-30/ class=nav-link title="特定のプリンタの設定だけを有効化した SuperSlicer を起動する方法">特定のプリンタの設定だけを有効化した SuperSlicer を起動する方法</a>
</li>
<li>
<a href=https://kankodori-blog.com/posts/2023-04-11/ class=nav-link title="ChatGPT と Whisper を使って記事を書いてみました">ChatGPT と Whisper を使って記事を書いてみました</a>
</li>
<li>
<a href=https://kankodori-blog.com/posts/2023-04-08/ class=nav-link title=3Dプリンタのステッピングモーターの配線について>3Dプリンタのステッピングモーターの配線について</a>
</li>
<li>
<a href=https://kankodori-blog.com/posts/2023-03-16/ class=nav-link title=PDFファイルの切り出しと圧縮方法>PDFファイルの切り出しと圧縮方法</a>
</li>
<li>
<a href=https://kankodori-blog.com/posts/2023-03-15/ class=nav-link title="OpenSCAD で作成されたデータを Fusion360 で編集する方法">OpenSCAD で作成されたデータを Fusion360 で編集する方法</a>
</li>
</ul>
<div>
<h2 class="mt-4 taxonomy" id=tags-section>タグ</h2>
<nav class=tags_nav>
<a href=https://kankodori-blog.com/tags/%E5%82%99%E5%BF%98%E9%8C%B2/ class="post_tag button button_translucent" title=備忘録>
備忘録
<span class=button_tally>24</span>
</a>
<a href=https://kankodori-blog.com/tags/3d%E3%83%97%E3%83%AA%E3%83%B3%E3%82%BF/ class="post_tag button button_translucent" title=3dプリンタ>
3Dプリンタ
<span class=button_tally>16</span>
</a>
<a href=https://kankodori-blog.com/tags/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/ class="post_tag button button_translucent" title=プログラミング>
プログラミング
<span class=button_tally>8</span>
</a>
<a href=https://kankodori-blog.com/tags/%E8%87%AA%E4%BD%9C%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89/ class="post_tag button button_translucent" title=自作キーボード>
自作キーボード
<span class=button_tally>6</span>
</a>
<a href=https://kankodori-blog.com/tags/klipper/ class="post_tag button button_translucent" title=klipper>
KLIPPER
<span class=button_tally>4</span>
</a>
<a href=https://kankodori-blog.com/tags/%E8%AA%AD%E6%9B%B8%E8%A8%98%E9%8C%B2/ class="post_tag button button_translucent" title=読書記録>
読書記録
<span class=button_tally>3</span>
</a>
<a href=https://kankodori-blog.com/tags/mac/ class="post_tag button button_translucent" title=mac>
MAC
<span class=button_tally>2</span>
</a>
<a href=https://kankodori-blog.com/tags/mainsail/ class="post_tag button button_translucent" title=mainsail>
MAINSAIL
<span class=button_tally>2</span>
</a>
<a href=https://kankodori-blog.com/tags/%E6%9C%AA%E5%88%86%E9%A1%9E/ class="post_tag button button_translucent" title=未分類>
未分類
<span class=button_tally>2</span>
</a>
<a href=https://kankodori-blog.com/tags/chatgpt/ class="post_tag button button_translucent" title=chatgpt>
CHATGPT
<span class=button_tally>1</span>
</a>
<a href=https://kankodori-blog.com/tags/karabiner-elements/ class="post_tag button button_translucent" title=karabiner-elements>
KARABINER-ELEMENTS
<span class=button_tally>1</span>
</a>
<a href=https://kankodori-blog.com/tags/neovim/ class="post_tag button button_translucent" title=neovim>
NEOVIM
<span class=button_tally>1</span>
</a>
<a href=https://kankodori-blog.com/tags/whisper/ class="post_tag button button_translucent" title=whisper>
WHISPER
<span class=button_tally>1</span>
</a>
<a href=https://kankodori-blog.com/tags/%E5%A4%AA%E5%B9%B3%E6%B4%8B%E6%88%A6%E4%BA%89/ class="post_tag button button_translucent" title=太平洋戦争>
太平洋戦争
<span class=button_tally>1</span>
</a>
<a href=https://kankodori-blog.com/tags/%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92/ class="post_tag button button_translucent" title=機械学習>
機械学習
<span class=button_tally>1</span>
</a>
<a href=https://kankodori-blog.com/tags/%E8%AA%AD%E6%9B%B8/ class="post_tag button button_translucent" title=読書>
読書
<span class=button_tally>1</span>
</a>
</nav>
</div>
</section>
</aside>
</div>
</main><svg width="0" height="0" class="hidden"><symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook"><path d="M437 0H75C33.648.0.0 33.648.0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352.0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter"><path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68.0 01-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043.0-1.924.366-2.643 1.078A3.56 3.56.0 008.766 5.383c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846.0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47.0.929.273 1.705.82 2.388a3.623 3.623.0 002.115 1.291c-.312.08-.641.118-.979.118-.312.0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652.0 002.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422.0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139.0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77.0 001.172-4.892v-.468a7.788 7.788.0 001.84-1.921 8.142 8.142.0 01-2.11.593z"/></symbol><symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V4e2c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5.0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar"><path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916.0 1e2v352c0 33.084 26.916 60 60 60h392c33.084.0 60-26.916 60-60V1e2c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028.0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028.0 20 8.972 20 20v48z"/><path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github"><path d="M255.968 5.329C114.624 5.329.0 120.401.0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384.0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008.0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992.0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584.0 34.368-.32 62.08-.32 70.496.0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab"><path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6.0L12.3 74.8z"/><path d="M12.3 74.7.5 111c-1 3.2.0 6.8 3 8.8l101.6 74-92.5-119z"/><path d="M105 193.7l-38.6-119h-54l92.7 119z"/><path d="M105 193.7l38.7-119H66.4l38.7 119z"/><path d="M105 193.7l38.7-119H198l-93 119z"/><path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/><path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6.0L198 74.8z"/></symbol><symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss"><circle cx="3.429" cy="20.571" r="3.429"/><path d="M11.429 24h4.57C15.999 15.179 8.821 8.001.0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"/><path d="M24 24C24 10.766 13.234.0.0.0v4.571c10.714.0 19.43 8.714 19.43 19.429z"/></symbol><symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin"><path d="M437 0H75C33.648.0.0 33.648.0 75v362c0 41.352 33.648 75 75 75h362c41.352.0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="to-top"><path d="M604.501 440.509 325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298.0 36.323s26.223 10.024 36.222.0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221.0 9.999-10.023 9.999-26.298.0-36.323z"/></symbol><symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly"><path d="M504.971 239.029 448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255.0-24 10.745-24 24s10.745 24 24 24h44c19.851.0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002.0 004e2 320v108c0 19.851-16.149 36-36 36h-44c-13.255.0-24 10.745-24 24s10.745 24 24 24h44c46.318.0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568.0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255.0 24-10.745 24-24S205.255.0 192 0h-44c-46.318.0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568.0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255.0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851.0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002.0 00112 192z"/></symbol><symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy"><path d="M23 2.75A2.75 2.75.0 0020.25.0H8.75A2.75 2.75.0 006 2.75v13.5A2.75 2.75.0 008.75 19h11.5A2.75 2.75.0 0023 16.25zM18.25 14.5h-7.5a.75.75.0 010-1.5h7.5a.75.75.0 010 1.5zm0-3h-7.5a.75.75.0 010-1.5h7.5a.75.75.0 010 1.5zm0-3h-7.5a.75.75.0 010-1.5h7.5a.75.75.0 010 1.5z"/><path d="M8.75 20.5A4.255 4.255.0 014.5 16.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752.0 001 5.25v16A2.752 2.752.0 003.75 24h12a2.752 2.752.0 002.75-2.75v-.75z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme"><path d="M284.286 256.002 506.143 34.144c7.811-7.811 7.811-20.475.0-28.285-7.811-7.81-20.475-7.811-28.285.0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285.0-7.81 7.811-7.811 20.475.0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475.0 28.285a19.938 19.938.0 0014.143 5.857 19.94 19.94.0 0014.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475.0-28.285L284.286 256.002z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu"><path d="M492 236H20c-11.046.0-20 8.954-20 20s8.954 20 20 20h472c11.046.0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954.0 96s8.954 20 20 20h472c11.046.0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046.0-20 8.954-20 20s8.954 20 20 20h472c11.046.0 20-8.954 20-20s-8.954-20-20-20z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram"><path d="M12 2.163c3.204.0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849.0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204.0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849.0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741.0 8.333.014 7.053.072c-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.668.072 4.948c.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24s3.668-.014 4.948-.072c4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403.0-6.162 2.759-6.162 6.162S8.597 18.163 12 18.163s6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zM12 16c-2.209.0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796.0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795.0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="youtube"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23.0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23.0C23.512 20.55 23.971 18.196 24 12c-.029-6.185-.484-8.549-4.385-8.816zM9 16V8l8 3.993L9 16z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow"><path d="M21 27v-8h3v11H0V19h3v8h18z"/><path d="M17.1.2 15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8 13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="xing"><path d="M18.188.0c-.517.0-.741.325-.927.66.0.0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211.0.375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016.0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894.0 21.686.0h-3.498zM3.648 4.74c-.211.0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016.0.021L1.86 16.051c-.099.188-.093.381.0.529.085.142.239.234.45.234h3.461c.518.0.766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 55" id="discord"><path d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527.41542 45.5603.39851 45.468.440769 45.4204.525289 44.7963 1.6353 44.105 3.0834 43.6209 4.2216c-5.4572-.817-10.8864-.817-16.2317.0C26.905 3.0581 26.1886 1.6353 25.5617.525289 25.5141.443589 25.4218.40133 25.3294.41542c-5.071.87338-9.9237 2.40318-14.4518 4.48238C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795 1.57795 18.7309-.943561 32.1443.293408 45.3914.299005 45.4562.335386 45.5182.385761 45.5576 6.45866 50.0174 12.3413 52.7249 18.1147 54.5195 18.2071 54.5477 18.305 54.5139 18.3638 54.4378 19.7295 52.5728 20.9469 50.6063 21.9907 48.5383 22.0523 48.4172 21.9935 48.2735 21.8676 48.2256 19.9366 47.4931 18.0979 46.6 16.3292 45.5858 16.1893 45.5041 16.1781 45.304 16.3068 45.2082 16.679 44.9293 17.0513 44.6391 17.4067 44.3461 17.471 44.2926 17.5606 44.2813 17.6362 44.3151c11.6196 5.3051 24.1992 5.3051 35.6817.0C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433 53.9057 44.6363 54.2779 44.9293 54.6529 45.2082 54.7816 45.304 54.7732 45.5041 54.6333 45.5858c-1.7687 1.0339-3.6074 1.9073-5.5412 2.637C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383c1.0662 2.0651 2.2836 4.0316 3.6241 5.8967C52.6519 54.5139 52.7526 54.5477 52.845 54.5195c5.8014-1.7946 11.684-4.5021 17.7569-8.9619C70.6551 45.5182 70.6887 45.459 70.6943 45.3942 72.1747 30.0791 68.2147 16.7757 60.1968 4.9823 60.1772 4.9429 60.1437 4.9147 60.1045 4.8978zM23.7259 37.3253c-3.4983.0-6.3808-3.2117-6.3808-7.156s2.8266-7.156 6.3808-7.156c3.5821.0 6.4367 3.2399 6.3807 7.156.0 3.9443-2.8266 7.156-6.3807 7.156zm23.5919.0c-3.4982.0-6.3807-3.2117-6.3807-7.156s2.8265-7.156 6.3807-7.156c3.5822.0 6.4367 3.2399 6.3808 7.156.0 3.9443-2.7986 7.156-6.3808 7.156z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 18" id="mastodon"><path fill="#fff" d="m15.054695 9.8859583c-.22611 1.1632697-2.02517 2.4363497-4.09138 2.6830797-1.0774504.12856-2.1382704.24673-3.2694704.19484-1.84996-.0848-3.30971-.44157-3.30971-.44157.0.1801.0111.35157.0333.51194.24051 1.82571 1.81034 1.93508 3.29737 1.98607 1.50088.0514 2.8373104-.37004 2.8373104-.37004l.0617 1.35686s-1.0498104.56374-2.9199404.66742c-1.03124.0567-2.3117-.0259-3.80308-.42069-3.23454998-.85613-3.79081998-4.304-3.87592998-7.8024197-.026-1.03871-.01-2.01815-.01-2.83732.0-3.57732 2.34385998-4.62587996 2.34385998-4.62587996 1.18184-.54277 3.20976-.77101 5.318-.7882499985409h.0518C9.8267646.01719834 11.856025.24547834 13.037775.78824834c0 0 2.34377 1.04855996 2.34377 4.62587996.0.0.0294 2.63937-.32687 4.47183"/><path fill="#000" d="m12.616925 5.6916583v4.3315297h-1.71607V5.8189683c0-.88624-.37289-1.33607-1.1187604-1.33607-.82467.0-1.23799.53361-1.23799 1.58875v2.30122h-1.70594v-2.30122c0-1.05514-.4134-1.58875-1.23808-1.58875-.74587.0-1.11876.44983-1.11876 1.33607v4.2042197h-1.71607V5.6916583c0-.88527.22541-1.58876.67817-2.10922.46689-.52047 1.07833-.78727 1.83735-.78727.87816.0 1.54317.33752 1.98288 1.01267l.42744.71655.42753-.71655c.43961-.67515 1.10463-1.01267 1.9828704-1.01267.75893.0 1.37037.2668 1.83735.78727.45268.52046.67808 1.22395.67808 2.10922"/></symbol></svg>
<footer class=footer>
<div class="footer_inner wrap pale">
<img src=https://kankodori-blog.com/img/favicon.png class="icon icon_2 transparent" alt="s-show 閑古鳥ブログ">
<p>Copyright&nbsp;2016-&nbsp;<span class=year></span>&nbsp;S-SHOW 閑古鳥ブログ. All Rights Reserved</p><a class=to_top href=#documentTop><svg class="icon"><title>to-top</title><use xlink:href="#to-top"/></svg>
</a>
</div>
</footer>
<script type=text/javascript src=https://kankodori-blog.com/ja/js/bundle.51e3797e3413af67784834a4612e6389a7a35a4e2e15ffddccc89687e70e57d81574c09267d4c8d8074e587351559f8b7e56aa5716a373480d95053b2a647dea.js integrity="sha512-UeN5fjQTr2d4SDSkYS5jiaejWk4uFf/dzMiWh+cOV9gVdMCSZ9TI2AdOWHNRVZ+LflaqVxajc0gNlQU7KmR96g==" crossorigin=anonymous></script>
<script src=https://kankodori-blog.com/js/search.min.1b1254eb041cd756fc95f3091f63cf5363e45e881aa13c3da952b68cc085c07a9b960212f522e01621a0ed9538eac9b94e346edf62f0585f8aef843f42343a9e.js></script>
</body>
</html>